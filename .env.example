## ColmenaOS Environment Example (.env.example)
# Copy to .env and replace placeholder values.

# =================================
# SYNCED WITH .env (order preserved)
# =================================

# Database (Postgres)
POSTGRES_DB=colmena
POSTGRES_USERNAME=colmena
POSTGRES_USER=colmena
POSTGRES_PASSWORD=CHANGE_ME
POSTGRES_HOSTNAME=postgres

# pgAdmin
PGADMIN_DEFAULT_EMAIL=admin@example.com
PGADMIN_DEFAULT_PASSWORD=CHANGE_ME

# Django backend
SECRET_KEY=CHANGE_ME
DEBUG=false
ALLOWED_HOSTS=localhost,127.0.0.1,*.local,*

# Nextcloud
NEXTCLOUD_VERSION=28.0.3
NEXTCLOUD_ADMIN_USER=admin
NEXTCLOUD_ADMIN_PASSWORD=CHANGE_ME
NEXTCLOUD_TRUSTED_DOMAINS=colmena.local,localhost,*.local,192.168.*.*,10.*.*.*
NEXTCLOUD_API_WRAPPER_PORT=5001
APACHE_APP_PATH=/var/www/nc_api_wrapper

# Unified app ports
HTTP_PORT=8080
BACKEND_PORT=8000

# Superadmin user for Colmena
SUPERADMIN_EMAIL=admin@example.com
SUPERADMIN_PASSWORD=CHANGE_ME

# Gunicorn settings
GUNICORN_WORKER_TIMEOUT=120
GUNICORN_WORKERS=3

# =================================
# ADDITIONAL EXAMPLE VARIABLES
# (kept for reference; not required by docker-compose.yml)
# =================================

# Core DB extras
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# Frontend CORS
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# Language and timezone
LANGUAGE_CODE=en-us
TIME_ZONE=UTC

# Nextcloud extras
NEXTCLOUD_DATA_DIR=/var/www/html/data
NEXTCLOUD_DB_TYPE=pgsql
NEXTCLOUD_DB_HOST=db
NEXTCLOUD_DB_NAME=nextcloud
NEXTCLOUD_DB_USER=nextcloud
NEXTCLOUD_DB_PASSWORD=CHANGE_ME

# Email (Mailcrab)
MAILCRAB_FRONTEND_PORT=1080
MAILCRAB_SMTP_PORT=1025
EMAIL_HOST=mailcrab
EMAIL_PORT=1025
EMAIL_USE_TLS=false
EMAIL_USE_SSL=false
DEFAULT_FROM_EMAIL=noreply@colmena.local

# Frontend build config
REACT_APP_API_BASE_URL=http://localhost:8000/api
REACT_APP_NEXTCLOUD_URL=http://localhost:8080
REACT_APP_ENVIRONMENT=development
OPENAPI_SCHEMA_LOCATION=http://backend:8000/api/schema

# Balena (production)
BALENA_DEVICE_UUID=
BALENA_APP_NAME=
BALENA_DEVICE_TYPE=

# Development compose
COMPOSE_PROJECT_NAME=colmena-os
COMPOSE_FILE=docker-compose.yml

# Local dev ports
FRONTEND_PORT=3000
NEXTCLOUD_PORT=8080
DB_PORT=5432
MAILCRAB_UI_PORT=1080

# Security settings
SESSION_COOKIE_SECURE=true
CSRF_COOKIE_SECURE=true
# Set to true in production with HTTPS
SECURE_SSL_REDIRECT=false
# 1 year
SECURE_HSTS_SECONDS=31536000

# Upload limits
FILE_UPLOAD_MAX_MEMORY_SIZE=10485760
DATA_UPLOAD_MAX_MEMORY_SIZE=10485760

# Logging
LOG_LEVEL=INFO
DJANGO_LOG_LEVEL=INFO
POSTGRES_LOG_LEVEL=warn

# Resource limits (MB/CPU)
BACKEND_MEMORY_LIMIT=512
FRONTEND_MEMORY_LIMIT=256
NEXTCLOUD_MEMORY_LIMIT=1024
DB_MEMORY_LIMIT=512
BACKEND_CPU_LIMIT=0.5
FRONTEND_CPU_LIMIT=0.25
NEXTCLOUD_CPU_LIMIT=0.75
DB_CPU_LIMIT=0.5

# Backups
BACKUP_ENABLED=true
# Daily at 2 AM
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=7
BACKUP_LOCATION=/backups

# Health checks
HEALTH_CHECK_INTERVAL=30s
HEALTH_CHECK_TIMEOUT=10s
HEALTH_CHECK_RETRIES=3

# Offline-first
CACHE_TIMEOUT=3600
OFFLINE_CACHE_SIZE=500MB
PWA_CACHE_STRATEGY=CacheFirst

# Audio processing
DEFAULT_AUDIO_FORMAT=mp3
DEFAULT_AUDIO_BITRATE=128
# 2 hours in seconds
MAX_RECORDING_DURATION=7200
AUDIO_PROCESSING_THREADS=2
